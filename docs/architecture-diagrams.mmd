graph TB
    %% Define styles
    classDef implemented fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef roadmap fill:#fff3e0,stroke:#e65100,stroke-width:2px,stroke-dasharray: 5 5
    classDef arbitrum fill:#bbdefb,stroke:#1976d2,stroke-width:3px
    classDef x402 fill:#c8e6c9,stroke:#388e3c,stroke-width:3px
    classDef a2a fill:#ffe0b2,stroke:#f57c00,stroke-width:3px

    %% Frontend Layer
    subgraph Frontend["üåê Frontend & Demo"]
        Website["Website<br/>(Vercel)"]
        Chatbot["Chatbot<br/>(A2A Demo)"]
        DemoAgents["Demo Agents<br/>(Cloudflare Workers)"]
    end

    %% Search API Layer
    subgraph SearchAPI["üîç Search API (A2A + x402)"]
        MCPWorker["Cloudflare Worker<br/>MCP Server"]
        VeniceAI["Venice AI<br/>(Query Vectorization)"]
        Pinecone["Pinecone<br/>(Vector Database)"]
        TrustScore["Trust Score<br/>Computation"]
    end

    %% Indexing Pipeline
    subgraph Indexing["üìä Indexing Pipeline"]
        GraphSubgraph["The Graph<br/>Subgraph"]
        Scheduler["Cloudflare Worker<br/>Scheduler"]
        AgentExtractor["Agent Card<br/>Extractor"]
        EmbeddingService["Venice AI<br/>(Embeddings)"]
        VectorIndexer["Pinecone<br/>Indexer"]
    end

    %% Blockchain Layer
    subgraph Blockchain["‚õìÔ∏è Arbitrum Sepolia"]
        ERC8004Identity["ERC-8004<br/>Identity Registry"]
        ERC8004Reputation["ERC-8004<br/>Reputation Registry"]
        FeedbackMarket["FeedbackMarket<br/>(DAO Staking)"]
    end

    %% Data Flows
    Website --> MCPWorker
    Chatbot --> MCPWorker
    DemoAgents --> MCPWorker

    MCPWorker --> VeniceAI
    MCPWorker --> Pinecone
    MCPWorker --> TrustScore
    MCPWorker --> ERC8004Reputation

    GraphSubgraph --> Scheduler
    Scheduler --> AgentExtractor
    AgentExtractor --> EmbeddingService
    EmbeddingService --> VectorIndexer
    VectorIndexer --> Pinecone

    ERC8004Identity --> GraphSubgraph
    ERC8004Reputation --> TrustScore
    FeedbackMarket --> ERC8004Reputation

    %% Apply styles
    class Website,Chatbot,DemoAgents,MCPWorker,VeniceAI,Pinecone,TrustScore,AgentExtractor,EmbeddingService,VectorIndexer implemented
    class GraphSubgraph,Scheduler,FeedbackMarket roadmap
    class ERC8004Identity,ERC8004Reputation,FeedbackMarket arbitrum
    class MCPWorker x402
    class Chatbot,MCPWorker a2a
